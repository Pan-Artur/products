const e=async()=>{let e;try{return e=await fetch("https://67a69122510789ef0dfbb742.mockapi.io/products/products"),await e.json()}catch(e){console.error(e)}},t=e=>{let t=document.querySelector(".products-list");t.innerHTML="";let a=e.map(({id:e,name:t,price:a,image:s})=>`
    <li class="products-item" id="${e}">
        <h3 class="products-name">${t}</h3>
        <p class="products-price">${a}</p>
        <img class="products-image" src="${s}" alt="Photo of ${t}"></img>
        <button class="item-button edit-button">\u{420}\u{435}\u{434}\u{430}\u{433}\u{443}\u{432}\u{430}\u{442}\u{438}</button>
        <button id="${e}" class="item-button delete-button">\u{412}\u{438}\u{434}\u{430}\u{43B}\u{438}\u{442}\u{438}</button>
    </li>`).join("");t.innerHTML=a},a=async e=>{try{let t=await fetch(`https://67a69122510789ef0dfbb742.mockapi.io/products/products/${e}`,{method:"DELETE"});return await t.json()}catch(e){console.error(e)}},s=async(e,t)=>{try{let a={method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}},s=await fetch(`https://67a69122510789ef0dfbb742.mockapi.io/products/products/${t}`,a);return await s.json()}catch(e){console.error(e)}},o=()=>{let a;let n=document.querySelector(".edit-backdrop"),r=document.querySelector(".close-edit-modal");document.addEventListener("click",e=>{e.target.classList.contains("edit-button")&&(n.classList.remove("is-hidden"),document.body.classList.add("no-scroll"),a=e.target.parentElement.id)}),r.addEventListener("click",()=>{n.classList.add("is-hidden"),document.body.classList.remove("no-scroll")});let l=document.querySelector(".edit-form__info");l.addEventListener("submit",async r=>{r.preventDefault(),n.classList.add("is-hidden"),document.body.classList.remove("no-scroll");let i={name:`${l.elements.name.value}`,price:`${l.elements.price.value}`,image:`${l.elements.image.value}`};try{await s(i,a);let n=await e();t(n),l.elements.name.value="",l.elements.price.value="",l.elements.image.value="",c(),o()}catch(e){console.error(e)}})},c=()=>{document.addEventListener("click",async s=>{if(s.target.classList.contains("delete-button")){let c=s.target.parentElement.id;await a(c),t(await e()),o()}})};(async()=>{try{let a=await e();t(a),c(),o()}catch(e){console.error(e)}})();const n=async e=>{try{let t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}},a=await fetch("https://67a69122510789ef0dfbb742.mockapi.io/products/products",t);return await a.json()}catch(e){console.error(e)}},r=document.querySelector(".backdrop"),l=document.querySelector(".form"),i=document.querySelector(".button"),d=document.querySelector(".modal__close");i.addEventListener("click",e=>{e.preventDefault(),r.classList.remove("is-hidden"),document.body.classList.add("no-scroll")}),d.addEventListener("click",e=>{e.preventDefault(),r.classList.add("is-hidden"),document.body.classList.remove("no-scroll")}),l.addEventListener("submit",async a=>{a.preventDefault(),r.classList.add("is-hidden"),document.body.classList.remove("no-scroll");let s={name:`${l.elements.name.value}`,price:`${l.elements.price.value}`,image:`${l.elements.image.value}`};try{await n(s);let a=await e();t(a),l.elements.name.value="",l.elements.price.value="",l.elements.image.value="",c(),o()}catch(e){console.error(e)}});const u=document.querySelector(".form"),m=document.querySelector(".backdrop");u.addEventListener("submit",async a=>{a.preventDefault(),m.classList.add(".is-hidden"),document.body.classList.remove("no-scroll"),u.elements.name.value,u.elements.price.value,u.elements.image.value;try{let a=await e();t(a),u.elements.name.value="",u.elements.price.value="",u.elements.image.value="",c(),o()}catch(e){console.error(e)}}),e();
//# sourceMappingURL=index.493141f0.js.map
