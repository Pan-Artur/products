const e=async()=>{let e,t;try{e=await fetch("https://67a69122510789ef0dfbb742.mockapi.io/products/products"),t=await e.json()}catch(e){console.error(e)}return t},t=e=>{let t=document.querySelector(".products-list"),o=e.map(({id:e,name:t,price:o,image:s})=>`
    <li class="products-item" id="${e}">
        <h3 class="products-name">${t}</h3>
        <p class="products-price">${o}</p>
        <img class="products-image" src="${s}" alt="Photo of ${t}"></img>
        <button class="item-button edit-button">\u{420}\u{435}\u{434}\u{430}\u{433}\u{443}\u{432}\u{430}\u{442}\u{438}</button>
        <button id="${e}" class="item-button delete-button">\u{412}\u{438}\u{434}\u{430}\u{43B}\u{438}\u{442}\u{438}</button>
    </li>`).join("");t.innerHTML=o},o=async e=>{try{let t=await fetch(`https://67a69122510789ef0dfbb742.mockapi.io/products/products/${e}`,{method:"DELETE"});return await t.json()}catch(e){console.error(e)}},s=async(e,t)=>{try{let o={method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}},s=await fetch(`https://67a69122510789ef0dfbb742.mockapi.io/products/products/${t}`,o);return await s.json()}catch(e){console.error(e)}},c=()=>{let o;let r=document.querySelector(".edit-backdrop"),n=document.querySelector(".close-edit-modal");document.addEventListener("click",e=>{e.target.classList.contains("edit-button")&&(r.classList.remove("is-hidden"),document.body.classList.add("no-scroll"),o=e.target.parentElement.id)}),n.addEventListener("click",()=>{r.classList.add("is-hidden"),document.body.classList.remove("no-scroll")});let d=document.querySelector(".edit-form__info");d.addEventListener("submit",async n=>{n.preventDefault(),r.classList.add("is-hidden"),document.body.classList.remove("no-scroll");let i={name:`${d.elements.name.value}`,price:`${d.elements.price.value}`,img:`${d.elements.img.value}`};try{await s(i,o);let r=await e();t(r),a(),c()}catch(e){console.error(e)}})},a=()=>{document.addEventListener("click",async s=>{if(s.target.classList.contains("delete-button")){let a=s.target.parentElement.id;await o(a),t(await e()),c()}})};(async()=>{try{let o=await e();t(o),a(),c()}catch(e){console.error(e)}})();const r=document.querySelector(".backdrop"),n=document.querySelector(".form"),d=document.querySelector(".button"),i=document.querySelector(".modal__close");d.addEventListener("click",e=>{e.preventDefault(),r.classList.remove("is-hidden"),document.body.classList.add("no-scroll")}),i.addEventListener("click",e=>{e.preventDefault(),r.classList.add("is-hidden"),document.body.classList.remove("no-scroll")}),n.addEventListener("submit",async e=>{e.preventDefault(),r.classList.add("is-hidden"),document.body.classList.remove("no-scroll");let t={name:n.elements.name.value,price:n.elements.price.value,img:n.elements.img.value};try{await addProductAPI(t);let e=await getProductsAPI();createMarkupProducts(e),deleteProduct(),openModal()}catch(e){console.error(e)}});const l=async e=>{try{let t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}},o=await fetch("https://67a69122510789ef0dfbb742.mockapi.io/products/products",t);return await o.json()}catch(e){console.error(e)}},u=document.querySelector(".form"),m=document.querySelector(".backdrop");u.addEventListener("submit",async o=>{o.preventDefault(),m.classList.add(".is-hidden"),document.body.classList.remove("no-scroll");let s={name:`${u.elements.name.value}`,price:`${u.elements.price.value}`,image:`${u.elements.image.value}`};try{l(s);let o=await e();t(o),a(),c()}catch(e){console.error(e)}}),e();
//# sourceMappingURL=index.7093da83.js.map
