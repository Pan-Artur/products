const e=async()=>{let e,t;try{e=await fetch("https://67a69122510789ef0dfbb742.mockapi.io/products/products"),t=await e.json()}catch(e){console.error(e)}return t},t=e=>{let t=document.querySelector(".products-list"),o=e.map(({id:e,name:t,price:o,image:s})=>`
    <li class="products-item" id="${e}">
        <h3 class="products-name">${t}</h3>
        <p class="products-price">${o}</p>
        <img class="products-image" src="${s}" alt="Photo of ${t}"></img>
        <button class="item-button edit-button">\u{420}\u{435}\u{434}\u{430}\u{433}\u{443}\u{432}\u{430}\u{442}\u{438}</button>
        <button id="${e}" class="item-button delete-button">\u{412}\u{438}\u{434}\u{430}\u{43B}\u{438}\u{442}\u{438}</button>
    </li>`).join("");t.innerHTML=o},o=async e=>{try{let t=await fetch(`https://67a69122510789ef0dfbb742.mockapi.io/products/products/${e}`,{method:"DELETE"});return await t.json()}catch(e){console.error(e)}},s=async(e,t)=>{try{let o={method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}},s=await fetch(`https://67a69122510789ef0dfbb742.mockapi.io/products/products/${t}`,o);return await s.json()}catch(e){console.error(e)}},c=()=>{let o;let n=document.querySelector(".edit-backdrop"),r=document.querySelector(".close-edit-modal");document.addEventListener("click",e=>{e.target.classList.contains("edit-button")&&(n.classList.remove("is-hidden"),document.body.classList.add("no-scroll"),o=e.target.parentElement.id)}),r.addEventListener("click",()=>{n.classList.add("is-hidden"),document.body.classList.remove("no-scroll")});let i=document.querySelector(".edit-form__info");i.addEventListener("submit",async r=>{r.preventDefault(),n.classList.add("is-hidden"),document.body.classList.remove("no-scroll");let d={name:`${i.elements.name.value}`,price:`${i.elements.price.value}`,description:`${i.elements.description.value}`,img:`${i.elements.img.value}`};try{await s(d,o);let n=await e();t(n),a(),c()}catch(e){console.error(e)}})},a=()=>{document.addEventListener("click",async s=>{if(s.target.classList.contains("delete-button")){let a=s.target.parentElement.id;await o(a),t(await e()),c()}})};(async()=>{try{let o=await e();t(o),a(),c()}catch(e){console.error(e)}})();const n=document.querySelector(".backdrop"),r=document.querySelector(".button"),i=document.querySelector(".modal__close");r.addEventListener("click",e=>{e.preventDefault(),n.classList.remove("is-hidden"),document.body.classList.add("no-scroll")}),i.addEventListener("click",e=>{e.preventDefault(),n.classList.add("is-hidden"),document.body.classList.remove("no-scroll")});const d=async e=>{try{let t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}},o=await fetch("https://67a69122510789ef0dfbb742.mockapi.io/products/products",t);return await o.json()}catch(e){console.error(e)}},l=document.querySelector(".form"),u=document.querySelector(".backdrop");l.addEventListener("submit",async o=>{o.preventDefault(),u.classList.add(".is-hidden"),document.body.classList.remove("no-scroll");let s={name:`${l.elements.name.value}`,price:`${l.elements.price.value}`,image:`${l.elements.image.value}`};try{d(s);let o=await e();t(o),a(),c()}catch(e){console.error(e)}}),e();
//# sourceMappingURL=index.7a5abff5.js.map
